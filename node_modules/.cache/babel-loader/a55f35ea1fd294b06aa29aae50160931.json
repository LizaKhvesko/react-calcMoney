{"ast":null,"code":"var _jsxFileName = \"/Users/lizahvesko/react/calc-money/src/App.js\";\nimport React from 'react';\nimport Total from './components/Total/Total';\nimport History from './components/History/History';\nimport Operation from './components/Operation/Operation';\nimport { isCompositeComponentWithType } from 'react-dom/test-utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      transactions: JSON.parse(localStorage.getItem('calcMoney')) || [],\n      description: '',\n      amount: '',\n      resultIncome: 0,\n      resultExpenses: 0,\n      totalBalance: 0\n    };\n\n    this.addTransaction = add => {\n      const transactions = [...this.state.transactions];\n      const transaction = {\n        id: `cmr${(+new Date()).toString(16)}`,\n        description: this.state.description,\n        amount: parseFloat(this.state.amount),\n        add\n      };\n      transactions.push(transaction);\n      this.setState({\n        transactions,\n        description: '',\n        amount: ''\n      }, this.getTotalBalance);\n    };\n\n    this.addAmount = e => {\n      this.setState({\n        amount: e.target.value\n      });\n    };\n\n    this.addDescription = e => {\n      this.setState({\n        description: e.target.value\n      });\n    };\n\n    this.getIncome = () => this.state.transactions.filter(item => item.add).reduce((acc, item) => acc + item.amount, 0);\n\n    this.getExpenses = () => this.state.transactions.filter(item => !item.add).reduce((acc, item) => acc + item.amount, 0);\n\n    this.delTransaction = key => {\n      const transactions = this.state.transactions.filter(item => item.id !== key);\n      this.setState({\n        transactions\n      }, this.getTotalBalance);\n    };\n  }\n\n  componentWillMount() {\n    this.getTotalBalance();\n  }\n\n  componentDidUpdate() {\n    this.addStorage();\n  }\n\n  getTotalBalance() {\n    const resultIncome = this.getIncome();\n    const resultExpenses = this.getExpenses();\n    const totalBalance = resultIncome - resultExpenses;\n    this.setState({\n      resultIncome,\n      resultExpenses,\n      totalBalance\n    });\n  }\n\n  addStorage() {\n    localStorage.setItem('calcMoney', JSON.stringify(this.state.transactions));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u041A\\u043E\\u0448\\u0435\\u043B\\u0435\\u043A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041A\\u0430\\u043B\\u044C\\u043A\\u0443\\u043B\\u044F\\u0442\\u043E\\u0440 \\u0440\\u0430\\u0441\\u0445\\u043E\\u0434\\u043E\\u0432\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(Total, {\n            resultExpenses: this.state.resultExpenses,\n            resultIncome: this.state.resultIncome,\n            totalBalance: this.state.totalBalance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(History, {\n            transactions: this.state.transactions,\n            delTransaction: this.delTransaction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Operation, {\n            addTransaction: this.addTransaction,\n            addAmount: this.addAmount,\n            addDescription: this.addDescription,\n            description: this.state.description,\n            amount: this.state.amount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/lizahvesko/react/calc-money/src/App.js"],"names":["React","Total","History","Operation","isCompositeComponentWithType","App","Component","state","transactions","JSON","parse","localStorage","getItem","description","amount","resultIncome","resultExpenses","totalBalance","addTransaction","add","transaction","id","Date","toString","parseFloat","push","setState","getTotalBalance","addAmount","e","target","value","addDescription","getIncome","filter","item","reduce","acc","getExpenses","delTransaction","key","componentWillMount","componentDidUpdate","addStorage","setItem","stringify","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,SAASC,4BAAT,QAA6C,sBAA7C;;;;AAEA,MAAMC,GAAN,SAAkBL,KAAK,CAACM,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAE9BC,KAF8B,GAEtB;AACJC,MAAAA,YAAY,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,KAAiD,EAD3D;AAEJC,MAAAA,WAAW,EAAE,EAFT;AAGJC,MAAAA,MAAM,EAAE,EAHJ;AAIJC,MAAAA,YAAY,EAAE,CAJV;AAKJC,MAAAA,cAAc,EAAE,CALZ;AAMJC,MAAAA,YAAY,EAAE;AANV,KAFsB;;AAAA,SAmB9BC,cAnB8B,GAmBbC,GAAG,IAAI;AAErB,YAAMX,YAAY,GAAG,CAAC,GAAG,KAAKD,KAAL,CAAWC,YAAf,CAArB;AAEA,YAAMY,WAAW,GAAG;AAChBC,QAAAA,EAAE,EAAG,MAAK,CAAC,CAAC,IAAIC,IAAJ,EAAF,EAAYC,QAAZ,CAAqB,EAArB,CAAyB,EADnB;AAEhBV,QAAAA,WAAW,EAAE,KAAKN,KAAL,CAAWM,WAFR;AAGhBC,QAAAA,MAAM,EAAEU,UAAU,CAAC,KAAKjB,KAAL,CAAWO,MAAZ,CAHF;AAIhBK,QAAAA;AAJgB,OAApB;AAOAX,MAAAA,YAAY,CAACiB,IAAb,CAAkBL,WAAlB;AACA,WAAKM,QAAL,CAAc;AACVlB,QAAAA,YADU;AAEVK,QAAAA,WAAW,EAAE,EAFH;AAGVC,QAAAA,MAAM,EAAE;AAHE,OAAd,EAII,KAAKa,eAJT;AAKF,KApC6B;;AAAA,SAsC9BC,SAtC8B,GAsClBC,CAAC,IAAI;AACb,WAAKH,QAAL,CAAc;AAACZ,QAAAA,MAAM,EAAEe,CAAC,CAACC,MAAF,CAASC;AAAlB,OAAd;AACH,KAxC6B;;AAAA,SA0C9BC,cA1C8B,GA0CbH,CAAC,IAAI;AAClB,WAAKH,QAAL,CAAc;AAACb,QAAAA,WAAW,EAAEgB,CAAC,CAACC,MAAF,CAASC;AAAvB,OAAd;AACH,KA5C6B;;AAAA,SA8C9BE,SA9C8B,GA8ClB,MAAM,KAAK1B,KAAL,CAAWC,YAAX,CACb0B,MADa,CACNC,IAAI,IAAIA,IAAI,CAAChB,GADP,EAEbiB,MAFa,CAEN,CAACC,GAAD,EAAMF,IAAN,KAAeE,GAAG,GAAGF,IAAI,CAACrB,MAFpB,EAE4B,CAF5B,CA9CY;;AAAA,SAmD9BwB,WAnD8B,GAmDhB,MAAM,KAAK/B,KAAL,CAAWC,YAAX,CACf0B,MADe,CACRC,IAAI,IAAI,CAACA,IAAI,CAAChB,GADN,EAEfiB,MAFe,CAER,CAACC,GAAD,EAAMF,IAAN,KAAeE,GAAG,GAAGF,IAAI,CAACrB,MAFlB,EAE0B,CAF1B,CAnDU;;AAAA,SAkE9ByB,cAlE8B,GAkEbC,GAAG,IAAI;AACtB,YAAMhC,YAAY,GAAG,KAAKD,KAAL,CAAWC,YAAX,CAAwB0B,MAAxB,CAA+BC,IAAI,IAAIA,IAAI,CAACd,EAAL,KAAYmB,GAAnD,CAArB;AACA,WAAKd,QAAL,CAAc;AAAElB,QAAAA;AAAF,OAAd,EAA+B,KAAKmB,eAApC;AACD,KArE6B;AAAA;;AAW9Bc,EAAAA,kBAAkB,GAAE;AAChB,SAAKd,eAAL;AACH;;AAEDe,EAAAA,kBAAkB,GAAG;AACjB,SAAKC,UAAL;AACH;;AAsCDhB,EAAAA,eAAe,GAAG;AACd,UAAMZ,YAAY,GAAG,KAAKkB,SAAL,EAArB;AACA,UAAMjB,cAAc,GAAG,KAAKsB,WAAL,EAAvB;AACA,UAAMrB,YAAY,GAAGF,YAAY,GAAGC,cAApC;AACA,SAAKU,QAAL,CAAc;AAAEX,MAAAA,YAAF;AAAgBC,MAAAA,cAAhB;AAAgCC,MAAAA;AAAhC,KAAd;AACH;;AAED0B,EAAAA,UAAU,GAAG;AACVhC,IAAAA,YAAY,CAACiC,OAAb,CAAqB,WAArB,EAAkCnC,IAAI,CAACoC,SAAL,CAAe,KAAKtC,KAAL,CAAWC,YAA1B,CAAlC;AACF;;AAODsC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACA;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAMA;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACI,QAAC,KAAD;AACI,YAAA,cAAc,EAAE,KAAKvC,KAAL,CAAWS,cAD/B;AAEI,YAAA,YAAY,EAAE,KAAKT,KAAL,CAAWQ,YAF7B;AAGI,YAAA,YAAY,EAAE,KAAKR,KAAL,CAAWU;AAH7B;AAAA;AAAA;AAAA;AAAA,kBADJ,eAMI,QAAC,OAAD;AACI,YAAA,YAAY,EAAE,KAAKV,KAAL,CAAWC,YAD7B;AAEI,YAAA,cAAc,EAAE,KAAK+B;AAFzB;AAAA;AAAA;AAAA;AAAA,kBANJ,eAUI,QAAC,SAAD;AACI,YAAA,cAAc,EAAE,KAAKrB,cADzB;AAEI,YAAA,SAAS,EAAE,KAAKU,SAFpB;AAGI,YAAA,cAAc,EAAE,KAAKI,cAHzB;AAII,YAAA,WAAW,EAAE,KAAKzB,KAAL,CAAWM,WAJ5B;AAKI,YAAA,MAAM,EAAE,KAAKN,KAAL,CAAWO;AALvB;AAAA;AAAA;AAAA;AAAA,kBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cANA;AAAA,oBADJ;AA6BH;;AArG6B;;AAwGlC,eAAeT,GAAf","sourcesContent":["import React from 'react';\nimport Total from './components/Total/Total';\nimport History from './components/History/History';\nimport Operation from './components/Operation/Operation';\nimport { isCompositeComponentWithType } from 'react-dom/test-utils';\n\nclass App extends React.Component {\n\n    state = {\n        transactions: JSON.parse(localStorage.getItem('calcMoney')) || [],\n        description: '',\n        amount: '',\n        resultIncome: 0,\n        resultExpenses: 0,\n        totalBalance: 0,\n    }\n\n    componentWillMount(){\n        this.getTotalBalance();\n    }\n\n    componentDidUpdate() {\n        this.addStorage();\n    }\n\n    addTransaction = add => {\n\n       const transactions = [...this.state.transactions];\n\n       const transaction = {\n           id: `cmr${(+new Date).toString(16)}`,\n           description: this.state.description,\n           amount: parseFloat(this.state.amount),\n           add\n       }\n       \n       transactions.push(transaction);\n       this.setState({ \n           transactions,\n           description: '',\n           amount: '',\n        }, this.getTotalBalance);\n    }\n\n    addAmount = e => {\n        this.setState({amount: e.target.value})\n    }\n\n    addDescription = e => {\n        this.setState({description: e.target.value})\n    }\n\n    getIncome = () => this.state.transactions\n        .filter(item => item.add)\n        .reduce((acc, item) => acc + item.amount, 0)\n    \n\n    getExpenses = () => this.state.transactions\n        .filter(item => !item.add)\n        .reduce((acc, item) => acc + item.amount, 0)\n\n    getTotalBalance() {\n        const resultIncome = this.getIncome();\n        const resultExpenses = this.getExpenses();\n        const totalBalance = resultIncome - resultExpenses;\n        this.setState({ resultIncome, resultExpenses, totalBalance })\n    }\n\n    addStorage() {\n       localStorage.setItem('calcMoney', JSON.stringify(this.state.transactions)) \n    }\n\n    delTransaction = key => {\n      const transactions = this.state.transactions.filter(item => item.id !== key);  \n      this.setState({ transactions}, this.getTotalBalance);\n    }\n\n    render() {\n        return (\n            <>\n            <header>\n                <h1>Кошелек</h1>\n                <h2>Калькулятор расходов</h2>\n            </header>\n\n            <main>\n                <div className=\"container\">\n                    <Total \n                        resultExpenses={this.state.resultExpenses}\n                        resultIncome={this.state.resultIncome}\n                        totalBalance={this.state.totalBalance}\n                    />\n                    <History \n                        transactions={this.state.transactions}\n                        delTransaction={this.delTransaction}\n                    />\n                    <Operation \n                        addTransaction={this.addTransaction}\n                        addAmount={this.addAmount}\n                        addDescription={this.addDescription}\n                        description={this.state.description}\n                        amount={this.state.amount}\n                    />  \n                </div>\n            </main>\n            </>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}